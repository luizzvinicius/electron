"use strict";const s=require("electron"),e=require("path"),i=require("child_process"),a=require("url");var p=typeof document<"u"?document.currentScript:null;if(typeof s=="string")throw new TypeError("Not running in an Electron environment!");const{env:l}=process,u="ELECTRON_IS_DEV"in l,v=Number.parseInt(l.ELECTRON_IS_DEV,10)===1,d=u?v:!s.app.isPackaged,R=require("adm-zip"),E=a.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:p&&p.src||new URL("main.js",document.baseURI).href),_=e.dirname(E),f=()=>new s.BrowserWindow({width:1e3,height:600,webPreferences:{preload:T,nodeIntegrationInWorker:!0,contextIsolation:!1,nodeIntegration:!0,webSecurity:!1}});process.env.ROOT=e.join(_,"..");process.env.DIST=e.join(process.env.ROOT,"dist-electron");process.env.VITE_PUBLIC=process.env.VITE_DEV_SERVER_URL?e.join(process.env.ROOT,"public"):e.join(process.env.ROOT,".output/public");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";const T=e.join(process.env.DIST,"preload.js"),n=d?"release/win-unpacked/resources/downloads/":"../../resources/downloads/";s.app.whenReady().then(async()=>{try{s.shell.openPath(e.join(process.env.ROOT,`${n}IPFS-Desktop-0.33.0.exe`)),new R(e.join(process.env.ROOT,`${n}ipfs-cluster-service_v1.0.8_windows-amd64.zip`)).extractAllTo(e.join(process.env.ROOT,`${n}`)),s.shell.openPath(e.join(process.env.ROOT,`${n}ipfs-cluster-service/ipfs-cluster-service.exe`))}catch(o){console.log(o)}const t=f();process.env.VITE_DEV_SERVER_URL?t.loadURL(process.env.VITE_DEV_SERVER_URL):t.loadFile(e.join(process.env.VITE_PUBLIC,"index.html")),i.exec(`${e.join(process.env.ROOT,`${n}ipfs-cluster-service/ipfs-cluster-service.exe`)} init -f http://bafybeigq7gjeusrv3tu7kaiv5yirr3vb76xqysjalwlec5fwkmudqx2bh4.ipfs.localhost:8080/`,(o,r,c)=>{console.log(o),console.log(c),console.log(r)}),i.exec(`${e.join(process.env.ROOT,`${n}ipfs-cluster-service/ipfs-cluster-service.exe`)} -f daemon --bootstrap /ip4/127.0.0.1/tcp/9092/p2p/12D3KooWR8MxQgHGLF5vx1ShZy3Dkb5ZMjgm5MjVpJaDpi1Qqpwp`,(o,r,c)=>{console.log(o),console.log(c),console.log(r)})});
